---
title: 'Data Handling: Import, Cleaning and Visualisation'
subtitle: 'Exercise/Workshop 2: Computer code and Data Storage'
author: "Ulrich Matter"
date: "11/10/2018"
output:
  html_document:
    highlight: tango
    theme: cerulean
    mathjax: "http://example.com/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
header-includes:
- \usepackage[T1]{fontenc}
- \usepackage{hyperref}
css: ../../../style/notes.css
bibliography: ../../references/datahandling.bib
---


```{r set-options, echo=FALSE, cache=FALSE, purl=FALSE}
options(width = 100)
library(knitr)
library(bookdown)
```




# Writing/Exploring Computer Code

## Exercise A: A simple website

In the previous workshop we have looked at what kind of computer code websites consist of (HTML). In this exercise we follow up on the concepts learned there by implementing a very simply website ourselves. 

1. Open a new text file in RStudio: `File/New File/Text File`, store it in your current working directory (set the working directory accordingly beforehand) as `my_website.html`. 

2. Copy/paste the follwing HTML-code to the empty text-file and save it. 

```{html}
     <!DOCTYPE html>

     <html>
         <head>
         </head>
         <body>
             <h2> hello, world </h2>
             <p>Welcome to my website! How are you today?</p>
         </body>
     </html>

```


3. Click on the file in the RStudio file browser and select `View in Web Browser`. The webpage should open in your default web browser. Inspect the webpage's content and compare it with the raw source code. Figure our which part of the source code is resulting in which part displayed in browser, by changing the text in the source code (change the text in the source code, save the file, reopen it in the web browser, etc.).

4. Visit the following documentation on the `<html>`-element:  https://developer.mozilla.org/en-US/docs/Web/HTML/Element/title . Based on the description and the examples shown there, add the title `My Website` to your webpage by modifying/extending the source code accordingly. Verify your solution by checking whether the page's title is displayed in the browser tab/window.




# Guided Workshop: Data Storage, the Big Picture

This workshop exercise is based on @murrell_2009: Chapter 5.1.


# Repetition: Data Structures in R

R provides different object classes to work with data. In simple terms, they differ with regard to how data is structured when saved in a variable. This, in turn, defines how we can access different parts of the data in this variable. For example, if we store a bunch of numbers in a numeric vector, we can then access each of these numbers individually, by telling R to give us the first, second, nth element of this vector. If we store data in a two-dimensional structure such as a matrix, we can then access the data column-wise, row-wise, or cell-wise. Depending on the task, one or the other object class is preferable to store and work with data.

## Vectors and Lists
```{r}
# A vector containing numeric (or integer) values
numeric_vector <- 10:20
numeric_vector[2]
numeric_vector[2:5]

# A string vector ('a vector containing text')
string_vector <- c("a", "b", "c")
string_vector[-3]

# Lists
# A list can contain different types of elements, for example a numeric vector and a string_vector
mylist <- list(numbers = numeric_vector, letters = string_vector)
mylist

# We can access the elements of a list in various ways
# with the element's name
mylist$numbers
mylist["numbers"]
# via the index
mylist[1]
# with [[]] we can access directly the content of the element
mylist[[1]]

# lists can also be nested (list of lists of lists....)
mynestedlist <- list(a = mylist, b = 1:5)
```

## Matrices and Data Frames
```{r}

# matrices
mymatrix <- matrix(numeric_vector, nrow = 4)
# get the second row
mymatrix[2,]
# get the first two columns
mymatrix[, 1:2]

# data frames ("lists as columns")
mydf <- data.frame(Name = c("Alice", "Betty", "Claire"), Age = c(20, 30, 45))
mydf
# select the age column
mydf$Age
mydf[, "Age"]
mydf[, 2]
# select the second row
mydf[2,]


```

## Classes and Data Structure
When importing data to R, using a new R-package, or extracting data from web sources, it is imperative to understand how the data is structured in the R-object (variable) one is working with. A lot of errors occur due to giving R functions input in the wrong format/structure. Having a close look at how the data stored in a variable that we want to work with further can help avoid such errors.^[Note that basic R functions as well as functions distributed via R packages are usually very well documented (look up documentation with `help(FUNCTION-NAME)` or `?FUNCTION-NAME`. An important part of such documentations is what class the input arguments of a function must have and what the class of the returned object is. See, for example the documentation of `mean()` by typing `?mean` into the R-console and hit enter.] The function `class()` returns the class(es) of an R object:

```{r}
# have a look at what kind of object you are dealing with
class(mydf)
class(mymatrix)

```

To get a clear idea of the structure of data stored in a specific variable, we can call the function `str()` (for structure) with the object of interest as the only function argument. This is particularly helpful when dealing with a complex/nested data structure. 

```{r}
# have a closer look at the data structure
str(mydf)
```


# References
