---
title: 'Data Handling: Import, Cleaning and Visualisation'
subtitle: 'Exercise/Workshop 3: Programming with Data'
author: "Ulrich Matter"
date: ""
output:
  html_document:
    highlight: tango
    theme: cerulean
    mathjax: "http://example.com/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
header-includes:
- \usepackage[T1]{fontenc}
- \usepackage{hyperref}
css: ../../../style/notes.css
bibliography: ../../references/datahandling.bib
---


```{r set-options, echo=FALSE, cache=FALSE, purl=FALSE}
options(width = 100)
library(knitr)
library(bookdown)
```


# Exercises

## Exercise A: Write a Sum Function

In the code example above, introducing the for-loop, you see how we can use such a loop to sum up numbers stored in a numeric vector. Use this code example and the following empty function construct to implement a function that takes a numeric vector as input and returns the sum of the vector's elements.

```{r eval=FALSE, purl=FALSE}
my_sum <- 
     function(x){
          
     }

```

Test your function by comparing its output with the output of `sum()` (the pre-implemented sum function in R) when calling it with the same input. 



## Exercise B: Robustness and Warnings
Once you have implemented and successfully tested `my_sum()`, see what happens if you call it with the following vector as input

```{r}
numbers2 <- c("1", "2", "3")
```


Why do we get an error? Investigate by comparing the vector `numbers` from the code example above with the new vector `numbers2` (the functions `str()` and `class()` might help you).

Extend your `my_sum()` function with a control statement that checks whether the input is of the right class for the function to work (Hint: `class(x)!="numeric"`). The goal is to make the function more robust to wrong input. That is, if the input is wrong, issue a warning but don't break down with an error. Use the following code for the warning message:

```{r eval=FALSE, purl=FALSE}
warning("Wrong input! This function only accepts numeric or integer values!")
```

Test your enhanced sum function with the two input vectors `numbers` and `numbers2`.




## Exercise C: Standard Deviation Function
In the example above we've implemented our own R function to compute the mean, given a numeric vector (with the help of already implemented R functions (`length()` and `sum()`; alternatively use your own `my_sum()`). Now implement an R function called `my_sd` that computes the standard deviation $SD = \sqrt{\frac{1}{N-1} \sum_{i=1}^N (x_i - \overline{x})^2}$. (Hint: see the math operators section above for some of the ingredients).

Test your implementation by comparing its results with the already implemented `sd()` function.


## Exercise D: Standard Error Function
Building on the function written in Exercise C, implement a function to compute (the estimate of) the sample mean standard error as defined here: $\text{SE}_{\bar{x}} = \frac{SD}{\sqrt{n}}$. Hint: the idea is to use your own implementation (in Exercise C) to compute $SD$ as a first step of your standard error function. 

Exercises C and D should illustrate how you can approach more complex problems by breaking them up in smaller problems and addressing each of these step-by-step. That is, when looking at the problem of computing $\text{SE}_{\bar{x}} = \frac{SD}{\sqrt{n}}$, you see that computing $SD$ is a part of the overall problem, which can be addressed separately.

## Exercise E: T-test 
Implement a function for the one-sample [t-test](https://en.wikipedia.org/wiki/Student%27s_t-test):
$t = \frac{\bar{x} - \mu_0}{\frac{SE}{\sqrt{n}}}$.
